import{d as g,e as D,f as K,w as O,g as P,h as W,c as d,a as e,i as x,v as z,u as o,j as m,F as y,r as $,k as E,l as b,t as f,m as H,o as c,n as Y,p as C}from"./index-b9d891d0.js";import S from"./vocabulary-d1ee5e7e.js";const q={class:"px-4 pt-6 2xl:px-0"},J={class:"border border-gray-200 rounded-lg bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800 sm:p-6"},Q={class:"items-center justify-between lg:flex"},X=e("div",{class:"mb-4 lg:mb-0"},[e("h3",{class:"mb-2 text-xl font-bold text-gray-900 dark:text-white"}," 雅思词汇真经 "),e("span",{class:"text-base font-normal text-gray-500 dark:text-gray-400"},"涵盖雅思必备核心词，逻辑词群记忆法")],-1),Z={class:"items-center sm:flex"},G={class:"flex items-center"},ee=["value"],te={class:"ml-2 inline-flex cursor-pointer items-center"},re=e("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1),oe=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"练习模式",-1),se={key:0,class:"ml-2 inline-flex cursor-pointer items-center"},le=e("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1),ae=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"释义",-1),ne={key:1,class:"ml-2 inline-flex cursor-pointer items-center"},de=e("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1),ce=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"原词",-1),ie={key:2,class:"ml-2 inline-flex cursor-pointer items-center"},ue=e("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1),fe=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"自动播放",-1),ge={class:"mt-6 flex flex-col"},pe={class:"overflow-x-auto rounded-lg"},be={class:"inline-block min-w-full align-middle"},he={class:"overflow-hidden shadow sm:rounded-lg"},xe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-600"},ye=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," # "),e("th",{class:"p-4 text-xs font-medium tracking-wider text-gray-500 dark:text-white"},[e("br")]),e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 词 "),e("th",{class:"w-0 text-left text-xs font-medium text-gray-500 dark:text-white"}," 词性 "),e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 词义 "),e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 例句 "),e("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 拓展 ")])],-1),ke={class:"bg-white dark:bg-gray-800"},me={class:"bg-hex-f3f3f3"},_e={colspan:"7",class:"px-4 py-6 text-sm font-normal text-gray-900 dark:bg-gray-500 dark:text-white"},we={class:"flex flex-row"},ve={class:"flex flex-1 items-center"},$e={class:"text-lg"},Ee={class:"justify-items-end"},Ce={controls:"",class:"chapter"},Se=["src"],Ve=["id"],Te={class:"p-4"},Ae=["onClick"],Fe=["onClick"],Ie=["id","onFocusout","onFocusin"],Be={class:"group relative whitespace-nowrap p-4"},Ne={key:0},je=["title","href"],Le=["onClick"],Me=e("i",{class:"i-ph-copy block cursor-pointer px-4"},null,-1),Ue=[Me],Re={style:{"font-style":"italic","font-family":"times"}},De={class:"p-4"},Ke={class:"p-4"},Oe={class:"p-4"},Pe={class:"flex items-center justify-between pt-3 sm:pt-6"},We={key:0},ze={key:0,class:"flex-shrink-0"},A="vocabulary_chapter",Je={__name:"index",setup(He){const n=g(!1),_=g(!0),w=g(!0),k=g(!1),v=g(!1),V=g("");g("");const F=Object.keys(S),i=g(localStorage.getItem(A)||F[0]),I=g(!1),p=D(S);K(()=>{const r=structuredClone(S),t=i.value;return t!==""?{[t]:r[t]}:{}}),O(i,(r,t)=>{localStorage.setItem(A,r)});function B(){let r=0,t=0,s=0;if(n.value){const a=p[i.value];for(const l of a.words)for(const u of l)u.spellValue?u.spellError?r++:s++:t++}return`${t} 个未完成，${s} 个正确，${r} 个错误`}P(()=>{I.value=!0;const r=document.getElementsByTagName("audio");for(const t of r)t.onplay=()=>{for(const s of r)s.blur(),t!==s&&s.pause()}}),W(()=>{for(const r of document.getElementsByTagName("audio"))r.load()}),document.addEventListener("keydown",r=>{if(["ArrowLeft","ArrowRight"," "].includes(r.key)){r.preventDefault();const t=document.getElementsByTagName("audio"),s={ArrowLeft:-5,ArrowRight:5};for(const a of t){if(a.blur(),s[r.key]){const l=s[r.key];a.currentTime=a.currentTime+l}r.key===" "&&(a.paused?a.play():a.pause())}}});let h=null;function T(r){h&&(h.pause(),h.currentTime=0),h=document.createElement("audio"),h.src=r,h.play()}function N(r){const t=`${r.word} ${r.pos} ${r.meaning}`;navigator.clipboard.writeText(t)}function j(r){var a;r.stopPropagation();const{key:t,target:s}=r;t==="Enter"&&((a=document.getElementById((Number(s.id)+1).toString()))==null||a.focus())}function L(r,t){w.value&&T(t)}function M(r,t){const{target:s}=r,a=s.value.toLowerCase().trim();a.length<1?(t.spellValue="",t.spellError=!1):(t.spellValue=a,t.spellError=!t.word.map(l=>l.toLowerCase().trim()).includes(a)),V.value=B()}function U(r){const t={error:"ml-4 bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 dark:bg-gray-700 focus:border-red-500 inline-block p-2.5 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500",normal:"ml-4 inline-block border border-gray-300 rounded-lg bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 focus:border-blue-500 dark:bg-gray-700 dark:text-white focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400",success:"ml-4 bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 inline-block p-2.5 dark:bg-gray-700 dark:border-green-500"};return r.spellError?t.error:r.spellValue.length>0&&!r.spellError?t.success:t.normal}function R(){const r=p[i.value].words,t=[];for(const s of r)for(const a of s)a.spellError&&t.push(`${a.word} ${a.pos} ${a.meaning}`);navigator.clipboard.writeText(t.join(`

`))}return(r,t)=>(c(),d("div",q,[e("div",J,[e("div",Q,[X,e("div",Z,[e("div",G,[x(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>m(i)?i.value=s:null),class:"block w-full flex-1 border border-gray-300 rounded-lg bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 focus:border-blue-500 dark:bg-gray-700 dark:text-white focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400"},[(c(!0),d(y,null,$(o(p),(s,a)=>(c(),d("option",{key:a,value:a},f(a),9,ee))),128))],512),[[z,o(i)]]),e("label",te,[x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>m(n)?n.value=s:null),type:"checkbox",class:"peer sr-only"},null,512),[[E,o(n)]]),re,oe]),o(n)?(c(),d("label",se,[x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>m(_)?_.value=s:null),type:"checkbox",class:"peer sr-only"},null,512),[[E,o(_)]]),le,ae])):b("",!0),o(n)?(c(),d("label",ne,[x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>m(v)?v.value=s:null),type:"checkbox",class:"peer sr-only"},null,512),[[E,o(v)]]),de,ce])):b("",!0),o(n)?(c(),d("label",ie,[x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>m(w)?w.value=s:null),type:"checkbox",class:"peer sr-only"},null,512),[[E,o(w)]]),ue,fe])):b("",!0)])])]),e("div",ge,[e("div",pe,[e("div",be,[e("div",he,[e("table",xe,[ye,e("tbody",ke,[e("tr",me,[e("td",_e,[e("div",we,[e("div",ve,[e("span",$e,f(o(i)),1),H(" （ "+f(o(p)[o(i)].groupCount)+" 组 "+f(o(p)[o(i)].wordCount)+" 个词 ） ",1)]),e("div",Ee,[e("audio",Ce,[e("source",{src:`vocabulary/audio/${o(p)[o(i)].audio}`,type:"audio/mpeg"},null,8,Se)])])])])]),(c(!0),d(y,null,$(o(p)[o(i)].words,(s,a)=>(c(),d(y,{key:s.label},[(c(!0),d(y,null,$(s,l=>x((c(),d("tr",{id:`tr_${l.id}`,key:l.id,class:C([{"bg-gray-50 dark:bg-gray-700":l.id%2===0,[`group-color-${a%15}`]:!0},"text-sm text-gray-900 dark:text-white"])},[e("td",Te,f(l.id),1),e("td",null,[e("i",{class:"i-ph-speaker-simple-high-bold inline-block cursor-pointer",onClick:u=>T(`vocabulary/audio/${o(i)}/${l.word[0]}.mp3`)},null,8,Ae),o(n)?(c(),d(y,{key:0},[e("i",{class:C(`${l.showSource?"i-ph-eye-slash-bold":"i-ph-eye-bold"} inline-block cursor-pointer ml-4`),title:"显示原词",onClick:u=>l.showSource=!l.showSource},null,10,Fe),e("input",{id:l.id,autocomplete:"off",class:C(U(l)),type:"text",onFocusout:u=>M(u,l),onFocusin:u=>L(u,`vocabulary/audio/${o(i)}/${l.word[0]}.mp3`),onKeydown:j},null,42,Ie)],64)):b("",!0)]),e("td",Be,[!o(n)||l.showSource||o(n)&&o(k)&&l.spellError||o(v)?(c(),d("div",Ne,[(c(!0),d(y,null,$(l.word,u=>(c(),d("p",{key:u},[e("a",{class:"hover:underline",title:`在剑桥词典中查询 ${u}`,target:"_blank",href:`https://dictionary.cambridge.org/dictionary/english-chinese-simplified/${u}`},f(u),9,je)]))),128)),e("div",{class:"absolute right-0 top-0 hidden h-100% items-center group-hover:flex",onClick:u=>N(l)},Ue,8,Le)])):b("",!0)]),e("td",Re,f(l.pos),1),e("td",De,f(o(_)?l.meaning:""),1),e("td",Ke,f(o(n)?"":l.example),1),e("td",Oe,f(o(n)?"":l.extra),1)],10,Ve)),[[Y,o(n)&&(o(k)?l.spellError:!0)||!o(n)]])),128))],64))),128))])])])])])]),e("div",Pe,[e("div",null,[o(n)?(c(),d("p",We,f(o(V)),1)):b("",!0)]),o(n)?(c(),d("div",ze,[e("button",{type:"button",class:"ml-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:t[5]||(t[5]=s=>k.value=!o(k))},f(o(k)?"展示所有":"仅展示错词"),1),e("button",{type:"button",class:"ml-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:R}," 拷贝错词 ")])):b("",!0)])])]))}};export{Je as default};
